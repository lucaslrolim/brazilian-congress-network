<!DOCTYPE html>
<!-- saved from url=(0073)https://beta.observablehq.com/@lucaslrolim/brazilian-constitution-changes -->
<html lang="en" class="gr__beta_observablehq_com"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="google-site-verification" content="Cb1i2q7oVgeeYvCfXyzou6YrKo5cPOGleoeIojAGqLM">
<meta name="description" content="Aprovação de emendas constitucionais no Brasil Contextualização do projeto Trabalho desenvolvido pelos alunos Lucas Roli"><meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Aprovação de emendas constitucionais no Brasil">
<meta property="og:description" content="An Observable notebook by Lucas Rolim.">
<meta property="og:image" content="https://static.observableusercontent.com/thumbnail/1fb16252576846ac150ad2eaadde3c9d7ac12255d9f6b6932a71443c4d38c16d.jpg">
<link rel="prefetch" href="https://static.observableusercontent.com/worker/worker.6aa62a47ab6975ecff0085ed8a41c3878f78fb6f7759b3633eef0df939057089.css">
<link rel="prefetch" href="https://static.observableusercontent.com/worker/worker.776423b63d1ceb54fad8072508d526532e1a87fd765dd676b9e1e261088a236e.js">
<link rel="prefetch" href="https://unpkg.com/marked@0.3.12/marked.min.js">

<title>Aprovação de emendas constitucionais no Brasil / Observable</title>
<link rel="stylesheet" type="text/css" href="./Aprovação de emendas constitucionais no Brasil _ Observable_files/style.7b1bb04aeb009d61641802a3b6c82a2253b4e7a0cbbecab4d8e47cef98fdf07e.css">
<link rel="apple-touch-icon" href="https://static.observablehq.com/favicon-512.e994d8ef78e387a9715cc1aab4dfdbc250bf565186e1165a931b055d1e02e84d.png">
<link rel="icon" type="image/png" href="https://static.observablehq.com/favicon-512.e994d8ef78e387a9715cc1aab4dfdbc250bf565186e1165a931b055d1e02e84d.png" sizes="512x512">
<link rel="search" type="application/opensearchdescription+xml" href="https://static.observablehq.com/opensearch.17954acae039c23392ee148792c1aab1a453de807cd92bed4a31ba0a1a289db2.xml" title="Observable search">
</head>
<body class="relative sans-serif " data-gr-c-s-loaded="true" cz-shortcut-listen="true" data-react-helmet="class">
<div id="app"><div class="flex flex-column min-vh-100"><div class="z-3 bg-white top-0 bb b--black-05 sticky"><div class="w-100 mw8 ph3 center flex justify-between pv2 items-center"><div class="inline-flex items-center"><a class="flex items-center ph2-ns pv2 mr3 mr2-ns no-underline" href="https://beta.observablehq.com/" style="line-height: 0;"><svg role="img" viewBox="0 0 24 24" aria-label="Observable" fill="currentColor" class="black" style="height: 24px; width: 24px;"><path d="M12 21c-1.108 0-2.068-.261-2.88-.783a5.137 5.137 0 0 1-1.867-2.126 11.821 11.821 0 0 1-.952-2.847A16.523 16.523 0 0 1 6 12c0-.862.052-1.686.157-2.474.104-.787.297-1.587.578-2.399.281-.812.643-1.516 1.084-2.113a4.987 4.987 0 0 1 1.735-1.455C10.27 3.186 11.084 3 12 3c1.108 0 2.068.261 2.88.783a5.137 5.137 0 0 1 1.867 2.126c.434.895.751 1.844.952 2.847.2 1.002.301 2.084.301 3.244 0 .862-.052 1.686-.157 2.474a11.76 11.76 0 0 1-.59 2.399c-.29.812-.65 1.516-1.084 2.113-.434.597-1.008 1.082-1.723 1.455-.715.373-1.53.559-2.446.559zm2.118-6.882A2.888 2.888 0 0 0 15 12c0-.824-.287-1.53-.86-2.118C13.566 9.294 12.853 9 12 9c-.853 0-1.566.294-2.14.882A2.925 2.925 0 0 0 9 12c0 .824.287 1.53.86 2.118.574.588 1.287.882 2.14.882.853 0 1.559-.294 2.118-.882zM12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z"></path></svg><span class="ml2 f3-ns f4 fw7 black">Observable</span></a><div role="combobox" aria-haspopup="listbox" aria-owns="react-autowhatever-1" aria-expanded="false" class="dib relative"><div class="relative"><input type="text" autocomplete="off" aria-autocomplete="list" aria-controls="react-autowhatever-1" required="" title="Search" placeholder="Search" maxlength="256" class="w5 f6 ba b--black-10 input-reset bg-white outline-0 search mr1 mr2-m mr3-l pl4 pr3 br2 fw6" value="" aria-activedescendant="react-autowhatever-1--item-0" style="padding-top: 7px; padding-bottom: 7px;"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16" class="absolute left-0 w1 h1 pa2 ml1 black-30 pen" style="stroke-width: 1;"><g><circle cx="7" cy="7" r="4"></circle><path d="M13 13l-3-3"></path></g></svg></div><div id="react-autowhatever-1" role="listbox" class="dn absolute z-max"><div class="db absolute left-0 w5 bg-white br1 shadow-4 overflow-hidden" style="margin-top: 10px;"></div><div class="absolute left-1" style="top: -4px; clip: rect(0px, 18px, 14px, -4px);"><div class="w1 h1 bg-white shadow-4" style="transform: rotate(45deg) translate(6px, 6px);"></div></div></div></div></div><div class="flex items-center"><div class="relative"><button class="pointer flex fw6 black-20 hover-black-50 bg-transparent mr2 br2 pv2 ph2 bn f6"><svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16"><circle r="2" cy="8" cx="2"></circle><circle r="2" cy="8" cx="8"></circle><circle r="2" cy="8" cx="14"></circle></svg></button></div><div class="inline-flex items-center"><button title="You’ve edited this notebook since publishing." class="br2 pv2 ph2 f6 inline-flex fw6 mr3-ns mr2 bn white bg-blue hover-bg-dark-blue pointer"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16" class="w1 h1 mr1-ns"><path d="M3 7.5v4.8c0 .663.56 1.2 1.25 1.2h7.5c.69 0 1.25-.537 1.25-1.2V7.5M10.5 5L8 2 5.5 5M8 3v6"></path></svg><span class="dn di-ns">Publish</span></button></div><a class="no-underline pointer inline-flex fw6 mr3-ns mr2 black-70 hover-black bg-light-gray hover-bg-moon-gray br2 pa2 bn f6" href="https://beta.observablehq.com/new"><svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16" class="w1 h1 mr1-ns"><path d="M8 4v8.624M4 8h8.41"></path></svg><span class="dn db-ns">New</span></a><section class="dib relative" aria-haspopup="true" style="line-height: 0;"><img alt="@lucaslrolim" src="./Aprovação de emendas constitucionais no Brasil _ Observable_files/9875473" class="dib ba b--white br-100 pointer" style="width: 32px; height: 32px; max-width: none;"></section></div></div></div><div class="w-100 mw8 center mt4" style="flex: 1 1 0%;"><div class="relative w-100"><div class="absolute w-100 nt4 tc"><div class="dib ph2 pv1 f7 fw4 black-50 bg-near-white br2 br--bottom">You’ve edited this notebook since publishing.<a class="ml1 no-underline black-70 hover-blue" href="https://beta.observablehq.com/compare/1b22cfbd401df340@1336">View changes</a>.</div></div></div><div class="flex justify-between ph3"><div class="flex measure-wide-ns items-center-ns items-top pl2-ns mw-100"><a class="inline-flex" href="https://beta.observablehq.com/@lucaslrolim"><img src="./Aprovação de emendas constitucionais no Brasil _ Observable_files/9875473(1)" class="br-100 mw-none" alt="@lucaslrolim" style="width: 60px; height: 60px; max-width: none;"></a><div class="w-100 pl2 pl3-ns f6"><div class="flex items-center"><a class="no-underline black hover-blue" href="https://beta.observablehq.com/@lucaslrolim">Lucas Rolim</a><span class="black-50"><span class="ml1 nowrap" title="23/10/2018 22:38:56
09/12/2018 14:22:40 (updated)">· Oct 23, 2018</span></span></div><div class="mt1 lh-copy black-50">Geek, software engineer and passionate about entrepreneurship</div></div></div><div class="f6"><a title="Like this notebook." class="flex-column inline-flex w2 items-stretch ml1 ml2 mb1 black-50 hover-bg-light-gray ba b--black-10 br2 pointer overflow-hidden"><div class="flex h2 items-center justify-center pa1"><svg viewBox="0 0 16 16" fill="var(--white)" stroke="var(--black-50)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16" class="" style="width: 22px; height: 22px; stroke-width: 1; transition: all 0.4s ease-in-out 0s;"><path d="M13.075 3.925A3.157 3.157 0 0 0 10.842 3c-.838 0-1.641.478-2.233 1.07L8 4.68l-.609-.61c-1.233-1.233-3.233-1.378-4.466-.145a3.158 3.158 0 0 0 0 4.467L3.534 9 8 13.788 12.466 9l.609-.608a3.157 3.157 0 0 0 0-4.467z"></path></svg></div></a></div></div><div class="relative mh0-ns nl3 mt5" style="margin-left: 21px;"><div tabindex="-1" class="relative outline-0"><iframe class="absolute w-100 bn " scrolling="no" sandbox="allow-same-origin allow-scripts allow-popups allow-forms allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation" allow="geolocation; microphone; camera; midi; encrypted-media; autoplay; accelerometer; magnetometer; gyroscope; vr" allowfullscreen="" src="./Aprovação de emendas constitucionais no Brasil _ Observable_files/worker.cd1ea69ee50e9a4ba4f49a7eb1a0829ea2c2339e29e4fd7fa30c005fcc75bee3.html" style="height: 8807px;"></iframe><div class="absolute h-100" style="width: 50vw; left: -50vw;"></div><div class="dib relative w-100 code f6 lh-copy black pen"><div data-node-id="0" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 130px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="835" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 651px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="838" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="1235" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 331px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="data" data-node-id="4" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 48px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="59" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="35" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 48px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="842" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="party_color" data-node-id="145" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="secondary_party_color" data-node-id="897" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="president_color" data-node-id="594" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="1616" class="relative" id="color_info_box" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="844" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="pecs_by_year" data-node-id="97" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 48px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="1253" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 51px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="transition_years" data-node-id="1032" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="66" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="1190" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="margin" data-node-id="62" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="height" data-node-id="72" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="width" data-node-id="74" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="xRange" data-node-id="81" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="xScale" data-node-id="79" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="pib_range" data-node-id="83" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="yRange" data-node-id="85" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="yScale" data-node-id="87" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="xAxis" data-node-id="185" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="yAxis" data-node-id="611" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="1192" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="transition_coords" data-node-id="1045" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="1194" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 76px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="1369" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="style" data-node-id="287" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="color_schema_dark" data-node-id="925" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="color_schema_light" data-node-id="927" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="sub_node_color" data-node-id="940" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="president_photo" data-node-id="1160" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="1196" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 51px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="714" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 48px;" id="pec_info"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="1625" class="relative" id="display_infos" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="1285" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="pallete_value" data-node-id="1270" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="pallete" data-node-id="931" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="1218" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 39px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="113" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 408px;" id="data_vis"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer black-30 hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div class="relative pea bg-near-white"><a title="Click to save. (Shift-Enter)" class="absolute top-0 right-0 pa2 z-2 pointer black-30 hover-black" style="user-select: none;"><svg width="16" height="16" class="db" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round" fill="none"><path d="M4 3L12 8L4 13Z"></path></svg></a><div class="CodeMirror cm-s-observable CodeMirror-wrap CodeMirror-focused" style="height: auto;"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 4250.54px; left: 182.536px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="false"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 4382px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"><div class="CodeMirror-cursor" style="left: 172.536px; top: 4244.55px; height: 20.9091px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">data_vis</span> <span class="cm-operator">=</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">const</span> <span class="cm-def">svg</span> <span class="cm-operator">=</span> <span class="cm-variable-2">d3</span>.<span class="cm-property">select</span>(<span class="cm-variable-2">DOM</span>.<span class="cm-property">svg</span>(<span class="cm-variable-2">width</span>, <span class="cm-variable-2">height</span>)).<span class="cm-property">style</span>(<span class="cm-string">"background"</span>, <span class="cm-variable-2">pallete</span>.<span class="cm-property">schema</span>.<span class="cm-property">background</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">const</span> <span class="cm-def">groups</span> <span class="cm-operator">=</span> <span class="cm-variable-2">svg</span>.<span class="cm-property">append</span>(<span class="cm-string">"g"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-property">selectAll</span>(<span class="cm-string">"g.year_info"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-property">data</span>(<span class="cm-variable-2">pecs_by_year</span>).<span class="cm-property">enter</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-property">append</span>(<span class="cm-string">"g"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"class"</span>, <span class="cm-string">"year_info"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">'transform'</span>, <span class="cm-string-2">`translate(12.5, 0)`</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">// largura das barras</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">scaleFactor</span> <span class="cm-operator">=</span> <span class="cm-number">17</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">pecSelected</span> <span class="cm-operator">=</span> <span class="cm-atom">null</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">// adiciona retângulos para formar a "barra de suporte" de cada círculo</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">// cada retângulo possui altura proporcional ao PIB per capta real no ano referido</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-2">groups</span>.<span class="cm-property">append</span>(<span class="cm-string">"rect"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"x"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">xScale</span>(<span class="cm-variable-2">d</span>.<span class="cm-property">ano</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"y"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">yScale</span>(<span class="cm-variable-2">d</span>.<span class="cm-property">pib</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"height"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">yScale</span>(<span class="cm-number">0</span>) <span class="cm-operator">-</span> <span class="cm-variable-2">yScale</span>(<span class="cm-variable-2">d</span>.<span class="cm-property">pib</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"width"</span>, <span class="cm-variable-2">xScale</span>.<span class="cm-property">bandwidth</span>() <span class="cm-operator">/</span> <span class="cm-variable-2">scaleFactor</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"fill"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">d</span>.<span class="cm-property">cor_partido</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">// constantes para definir a escala de tamanho dos círculos no svg</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">circleOffset</span> <span class="cm-operator">=</span> <span class="cm-variable-2">xScale</span>.<span class="cm-property">bandwidth</span>() <span class="cm-operator">/</span> (<span class="cm-number">2</span> <span class="cm-operator">*</span> <span class="cm-variable-2">scaleFactor</span>); </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">circleMult</span> <span class="cm-operator">=</span> <span class="cm-number">2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">// adiciona círculos principais no sgv, sendo um círculo por ano</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-2">groups</span>.<span class="cm-property">append</span>(<span class="cm-string">"circle"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"cx"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">xScale</span>(<span class="cm-variable-2">d</span>.<span class="cm-property">ano</span>) <span class="cm-operator">+</span> <span class="cm-variable-2">circleOffset</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"cy"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">yScale</span>(<span class="cm-variable-2">d</span>.<span class="cm-property">pib</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"r"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">d</span>.<span class="cm-property">numero_pecs</span> <span class="cm-operator">*</span> <span class="cm-variable-2">circleMult</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"fill"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">d</span>.<span class="cm-property">cor_partido</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"class"</span>, <span class="cm-string">"main_node"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; <span class="cm-comment">// Adiciona timeline abaixo da visualização</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-2">groups</span>.<span class="cm-property">append</span>(<span class="cm-string">"rect"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"x"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">xScale</span>(<span class="cm-variable-2">d</span>.<span class="cm-property">ano</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"y"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">height</span> <span class="cm-operator">-</span> <span class="cm-number">25</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"height"</span>, <span class="cm-number">5</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"width"</span>, <span class="cm-number">40</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"fill"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">d</span>.<span class="cm-property">cor_partido</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">// Adiciona gaps brancos de transicao de presidentes na timeline</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">for</span> (<span class="cm-keyword">let</span> <span class="cm-def">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span> ; <span class="cm-variable-2">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable-2">transition_coords</span>.<span class="cm-property">length</span>; <span class="cm-variable-2">i</span><span class="cm-operator">++</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable-2">groups</span>.<span class="cm-property">append</span>(<span class="cm-string">"rect"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"x"</span>, <span class="cm-variable-2">transition_coords</span>[<span class="cm-variable-2">i</span>] <span class="cm-operator">+</span> <span class="cm-number">4</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"y"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">height</span> <span class="cm-operator">-</span> <span class="cm-number">25</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"height"</span>, <span class="cm-number">5</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"width"</span>, <span class="cm-number">5</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"fill"</span>, <span class="cm-variable-2">pallete</span>.<span class="cm-property">schema</span>.<span class="cm-property">background</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">// insere labels no eixo x da visualização</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-2">svg</span>.<span class="cm-property">append</span>(<span class="cm-string">"g"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">call</span>(<span class="cm-variable-2">xAxis</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">selectAll</span>(<span class="cm-string">"text"</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"fill"</span>, <span class="cm-variable-2">pallete</span>.<span class="cm-property">schema</span>.<span class="cm-property">text_2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"text-anchor"</span>, <span class="cm-string">"end"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"transform"</span>, <span class="cm-string">"rotate(-45)"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">// insere labels no eixo y da visualizacao</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">svg</span>.<span class="cm-property">append</span>(<span class="cm-string">"g"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">call</span>(<span class="cm-variable-2">yAxis</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">selectAll</span>(<span class="cm-string">"text"</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"fill"</span>, <span class="cm-variable-2">pallete</span>.<span class="cm-property">schema</span>.<span class="cm-property">text_1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"text-anchor"</span>, <span class="cm-string">"end"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">// adiciona efeitos nos grupos principais (círculos + retângulos) quando usuário passa o mouse sobre a região</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-2">groups</span>.<span class="cm-property">on</span>(<span class="cm-string">"mouseenter"</span>, <span class="cm-keyword">function</span>(<span class="cm-def">d</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable-2">pecSelected</span> <span class="cm-operator">!==</span> <span class="cm-atom">null</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// informações do círculo selecionado</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">main_circle</span> <span class="cm-operator">=</span> <span class="cm-variable-2">d3</span>.<span class="cm-property">select</span>(<span class="cm-keyword">this</span>).<span class="cm-property">selectAll</span>(<span class="cm-string">'.main_node'</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">x_center_coordinate</span> <span class="cm-operator">=</span> <span class="cm-variable-2">parseInt</span>(<span class="cm-variable-2">main_circle</span>.<span class="cm-property">attr</span>(<span class="cm-string">'cx'</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">y_center_coordinate</span> <span class="cm-operator">=</span> <span class="cm-variable-2">parseInt</span>(<span class="cm-variable-2">main_circle</span>.<span class="cm-property">attr</span>(<span class="cm-string">'cy'</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">main_circle_radius</span> <span class="cm-operator">=</span> <span class="cm-variable-2">parseInt</span>(<span class="cm-variable-2">main_circle</span>.<span class="cm-property">attr</span>(<span class="cm-string">'r'</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable-2">main_circle_radius</span> <span class="cm-operator">!==</span> (<span class="cm-variable-2">circleMult</span> <span class="cm-operator">*</span> <span class="cm-variable-2">d</span>.<span class="cm-property">pecs_info</span>.<span class="cm-property">length</span>)){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// transforma visualmente o círculo principal (raio e cor)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">main_circle</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">transition</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"r"</span>, <span class="cm-variable-2">d</span>.<span class="cm-property">numero_pecs</span> <span class="cm-operator">*</span> <span class="cm-variable-2">circleMult</span> <span class="cm-operator">*</span> <span class="cm-number">2</span> )</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">ease</span>(<span class="cm-variable-2">d3</span>.<span class="cm-property">easeQuadInOut</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">duration</span>(<span class="cm-number">750</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"opacity"</span>, <span class="cm-number">0.3</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-comment">// sub circulo que demarca o centro do círculo principal</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable-2">d3</span>.<span class="cm-property">select</span>(<span class="cm-keyword">this</span>).<span class="cm-property">append</span>(<span class="cm-string">"circle"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"cx"</span>, <span class="cm-variable-2">x_center_coordinate</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"cy"</span>, <span class="cm-variable-2">y_center_coordinate</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"r"</span>, <span class="cm-number">4</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"class"</span>, <span class="cm-string">"center_sub_node"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"opacity"</span>, <span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"fill"</span>, <span class="cm-def">element_att</span> <span class="cm-operator">=&gt;</span> &nbsp;<span class="cm-variable-2">element_att</span>.<span class="cm-property">cor_partido</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// adiciona sub círculos dentro do círculo principal, sendo um subcírculo por PEC no ano selecionado</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">alpha</span> <span class="cm-operator">=</span> <span class="cm-number">2</span> <span class="cm-operator">*</span> <span class="cm-variable-2">Math</span>.<span class="cm-property">PI</span> <span class="cm-operator">/</span> <span class="cm-variable-2">d</span>.<span class="cm-property">pecs_info</span>.<span class="cm-property">length</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// Nao desloca sub_node do centro caso so exista uma PEC</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable-2">d</span>.<span class="cm-property">pecs_info</span>.<span class="cm-property">length</span> <span class="cm-operator">&gt;</span> <span class="cm-number">1</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">trans</span> <span class="cm-operator">=</span> <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  } <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">trans</span> <span class="cm-operator">=</span> <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-def">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span> ; <span class="cm-variable-2">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable-2">d</span>.<span class="cm-property">pecs_info</span>.<span class="cm-property">length</span>; <span class="cm-variable-2">i</span> <span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">ementa</span> <span class="cm-operator">=</span> <span class="cm-variable-2">d</span>.<span class="cm-property">pecs_info</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">ementa</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">numero</span> <span class="cm-operator">=</span> <span class="cm-variable-2">d</span>.<span class="cm-property">pecs_info</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">numero</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">alteracoes</span> <span class="cm-operator">=</span> <span class="cm-variable-2">d</span>.<span class="cm-property">pecs_info</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">alteracoes</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">link</span> <span class="cm-operator">=</span> <span class="cm-variable-2">d</span>.<span class="cm-property">pecs_info</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">link</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">publicacao</span> <span class="cm-operator">=</span> <span class="cm-variable-2">d</span>.<span class="cm-property">pecs_info</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">publicacao</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-comment">// coordenadas do raio do subcírculo são aleatórias ao redor do centro do círculo principal</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">x_coordenate</span> <span class="cm-operator">=</span> <span class="cm-variable-2">x_center_coordinate</span> <span class="cm-operator">+</span> ( (<span class="cm-number">1.5</span> <span class="cm-operator">*</span> <span class="cm-variable-2">main_circle_radius</span>) <span class="cm-operator">*</span> <span class="cm-variable-2">Math</span>.<span class="cm-property">cos</span>(<span class="cm-variable-2">alpha</span> <span class="cm-operator">*</span> <span class="cm-variable-2">i</span>) ) <span class="cm-operator">*</span> <span class="cm-variable-2">trans</span>; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">y_coordenate</span> <span class="cm-operator">=</span> <span class="cm-variable-2">y_center_coordinate</span> <span class="cm-operator">+</span> ( (<span class="cm-number">1.5</span> <span class="cm-operator">*</span> <span class="cm-variable-2">main_circle_radius</span>) <span class="cm-operator">*</span> <span class="cm-variable-2">Math</span>.<span class="cm-property">sin</span>(<span class="cm-variable-2">alpha</span> <span class="cm-operator">*</span> <span class="cm-variable-2">i</span>) ) <span class="cm-operator">*</span> <span class="cm-variable-2">trans</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">d3</span>.<span class="cm-property">select</span>(<span class="cm-keyword">this</span>).<span class="cm-property">append</span>(<span class="cm-string">"circle"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"cx"</span>, <span class="cm-variable-2">x_coordenate</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"cy"</span>, <span class="cm-variable-2">y_coordenate</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"r"</span>, <span class="cm-number">4.5</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"class"</span>, <span class="cm-string">"sub_node"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"opacity"</span>, <span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"fill"</span>, <span class="cm-def">element_att</span> <span class="cm-operator">=&gt;</span> &nbsp;<span class="cm-variable-2">sub_node_color</span>(<span class="cm-variable-2">element_att</span>.<span class="cm-property">s_cor_partido</span>, <span class="cm-variable-2">pallete</span>.<span class="cm-property">schema</span>))</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">on</span>(<span class="cm-string">"click"</span>, <span class="cm-keyword">function</span>(<span class="cm-def">element_att</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable-2">pecSelected</span> <span class="cm-operator">===</span> <span class="cm-variable-2">numero</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">pecSelected</span> <span class="cm-operator">=</span> <span class="cm-atom">null</span>; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">d3</span>.<span class="cm-property">select</span>(<span class="cm-keyword">this</span>.<span class="cm-property">parentNode</span>).<span class="cm-property">selectAll</span>(<span class="cm-string">'.sub_node'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"opacity"</span>, <span class="cm-number">0.2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"stroke"</span>,<span class="cm-string">"transparent"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">else</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">pecSelected</span> <span class="cm-operator">=</span> <span class="cm-variable-2">numero</span>; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// atualiza box de informacoes da PEC</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">mutable</span> <span class="cm-variable-2">pec_info</span>.<span class="cm-property">title</span> <span class="cm-operator">=</span> <span class="cm-variable-2">alteracoes</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">mutable</span> <span class="cm-variable-2">pec_info</span>.<span class="cm-property">description</span> <span class="cm-operator">=</span> <span class="cm-variable-2">ementa</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">mutable</span> <span class="cm-variable-2">pec_info</span>.<span class="cm-property">link</span> <span class="cm-operator">=</span> <span class="cm-variable-2">link</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">mutable</span> <span class="cm-variable-2">pec_info</span>.<span class="cm-property">president</span> <span class="cm-operator">=</span> <span class="cm-variable-2">d</span>.<span class="cm-property">presidente</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">mutable</span> <span class="cm-variable-2">pec_info</span>.<span class="cm-property">schema</span> <span class="cm-operator">=</span> <span class="cm-variable-2">color_info_box</span>(<span class="cm-variable-2">d</span>.<span class="cm-property">presidente</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">mutable</span> <span class="cm-def">pec_info</span> <span class="cm-operator">=</span> <span class="cm-keyword">mutable</span> <span class="cm-variable-2">pec_info</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">mutable</span> <span class="cm-def">display_infos</span> <span class="cm-operator">=</span> <span class="cm-string">""</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">mutable</span> <span class="cm-def">display_infos</span> <span class="cm-operator">=</span> <span class="cm-keyword">mutable</span> <span class="cm-variable-2">display_infos</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// formatacao diferente para PEC selecionada //</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// remove estilo do ultimo sub_node selecionado</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">d3</span>.<span class="cm-property">select</span>(<span class="cm-keyword">this</span>.<span class="cm-property">parentNode</span>).<span class="cm-property">selectAll</span>(<span class="cm-string">'.sub_node'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"opacity"</span>, <span class="cm-number">0.2</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"stroke"</span>,<span class="cm-string">"transparent"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// adiciona estilo no novo sub_node selecionado</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">d3</span>.<span class="cm-property">select</span>(<span class="cm-keyword">this</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"opacity"</span>, <span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"stroke"</span>,<span class="cm-variable-2">element_att</span>.<span class="cm-property">cor_partido</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  })</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">append</span>(<span class="cm-string">"title"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;  .<span class="cm-property">text</span>(<span class="cm-variable-2">numero</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; });</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">// remove efeito dos grupos principais (círculos + retângulos) quando usuário retira o mouse região</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-2">groups</span>.<span class="cm-property">on</span>(<span class="cm-string">"mouseleave"</span>, <span class="cm-keyword">function</span>(<span class="cm-def">d</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable-2">pecSelected</span> <span class="cm-operator">===</span> <span class="cm-atom">null</span>){</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">mutable</span> <span class="cm-def">display_infos</span> <span class="cm-operator">=</span> <span class="cm-string">'none'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">mutable</span> <span class="cm-def">display_infos</span> <span class="cm-operator">=</span> <span class="cm-keyword">mutable</span> <span class="cm-variable-2">display_infos</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">let</span> <span class="cm-def">main_circle</span> <span class="cm-operator">=</span> <span class="cm-variable-2">d3</span>.<span class="cm-property">select</span>(<span class="cm-keyword">this</span>).<span class="cm-property">selectAll</span>(<span class="cm-string">'.main_node'</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">d3</span>.<span class="cm-property">select</span>(<span class="cm-keyword">this</span>).<span class="cm-property">selectAll</span>(<span class="cm-string">".sub_node"</span>).<span class="cm-property">remove</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable-2">main_circle</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">transition</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"r"</span>, <span class="cm-variable-2">d</span>.<span class="cm-property">numero_pecs</span> <span class="cm-operator">*</span> <span class="cm-variable-2">circleMult</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">ease</span>(<span class="cm-variable-2">d3</span>.<span class="cm-property">easeQuadInOut</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">duration</span>(<span class="cm-number">750</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"opacity"</span>, <span class="cm-number">1.0</span>); </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  });</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-2">groups</span>.<span class="cm-property">selectAll</span>(<span class="cm-string">'.main_node'</span>).<span class="cm-property">on</span>(<span class="cm-string">"click"</span>, <span class="cm-keyword">function</span>(<span class="cm-def">d</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">pecSelected</span> <span class="cm-operator">=</span> <span class="cm-atom">null</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">console</span>.<span class="cm-property">log</span>(<span class="cm-keyword">this</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">mutable</span> <span class="cm-def">display_infos</span> <span class="cm-operator">=</span> <span class="cm-string">'none'</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">mutable</span> <span class="cm-def">display_infos</span> <span class="cm-operator">=</span> <span class="cm-keyword">mutable</span> <span class="cm-variable-2">display_infos</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">groups</span>.<span class="cm-property">selectAll</span>(<span class="cm-string">".sub_node"</span>).<span class="cm-property">remove</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">groups</span>.<span class="cm-property">selectAll</span>(<span class="cm-string">".main_node"</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">transition</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">attr</span>(<span class="cm-string">"r"</span>, <span class="cm-def">d</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">d</span>.<span class="cm-property">numero_pecs</span> <span class="cm-operator">*</span> <span class="cm-variable-2">circleMult</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">ease</span>(<span class="cm-variable-2">d3</span>.<span class="cm-property">easeQuadInOut</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">duration</span><span class=" CodeMirror-matchingbracket">(</span><span class="cm-number">750</span><span class=" CodeMirror-matchingbracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  .<span class="cm-property">style</span>(<span class="cm-string">"opacity"</span>, <span class="cm-number">1.0</span>); </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  });</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable-2">svg</span>.<span class="cm-property">node</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; border-bottom: 0px solid transparent; top: 4382px;"></div><div class="CodeMirror-gutters" style="display: none; height: 4397px;"></div></div></div></div><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-near-white black b--black" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"><button type="button" title="Click for options.
Drag to move." class="inline-flex hover-black bg-transparent black-30 hover-bg-light-gray bn " style="padding: 9px 6px 10px; margin-top: -6px; cursor: grab;"><svg viewBox="0 0 8 14" fill="currentColor" stroke="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="8" height="14"><circle r="1.5" cx="4" cy="2"></circle><circle r="1.5" cx="4" cy="7"></circle><circle r="1.5" cx="4" cy="12"></circle></svg></button></div><div class="absolute right-0 mv1" style="top: 408px;"><a class="dib br-pill v-top blue" title="Click to unpin. (Ctrl-Shift-P)" style="width: 20px; height: 20px; padding: 2px;"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" class="v-top"><path d="M8 1h3v1l-1 1v4l2 .875V9H9v5.125L8 15l-1-.875V9H4V7.875L6 7V3L5 2V1z"></path></svg></a></div></div></div><div id="info_box" data-node-id="674" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer black-30 hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="1257" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 263px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="19" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="d3_base" data-node-id="24" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 48px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="d3_fetch" data-node-id="28" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 48px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div id="d3" data-node-id="30" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 48px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div data-node-id="947" class="relative" style="margin-top: 17px; margin-bottom: 17px; padding-top: 33px;"><div class="bg-light-blue drag-marker-before"></div><div class="bg-light-blue drag-marker-after"></div><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)
Shift-click to merge. (Alt-Backspace)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a><div title="Click to edit." class="absolute pointer pea tr top-0 br hide-child
          bg-white hover-bg-near-white hover-black  black-30 b--white" style="height: 100%; padding: 6px 0.25rem; left: -50vw; width: 50vw;"><div class="dib absolute right-0"></div></div></div><div class="relative" style="margin-top: 17px; margin-bottom: 17px;"><a class="absolute pointer transparent hover-black hover-bg-near-white br1 pea z-2" title="Click to insert. (Alt-Enter)" style="top: -20px; left: -12px; width: 24px; height: 24px; padding: 4px;"><svg viewBox="0 0 15 15" width="15" height="15" stroke="currentColor" style="stroke-width: 1; stroke-linecap: round;"><line x1="7.5" x2="7.5" y1="2.5" y2="12.5"></line><line y1="7.5" y2="7.5" x1="2.5" x2="12.5"></line></svg></a></div></div><div class="relative h4 pointer" title="Click to insert. (Alt-Enter)" style="margin-left: -50vw; width: calc(100% + 50vw);"></div></div></div></div><div class=""><div class="w-100 mw8 ph3 center pt4 pb4"><div class="flex flex-row flex-wrap justify-between pt4 f6 fw4 lh-copy black-50"><div>© 2018 <span class="mr2-ns nowrap">Observable, Inc.</span> <div class="dib-ns nowrap"><a href="https://beta.observablehq.com/terms-of-service" class="mh2-ns mr1 blue hover-dark-blue link">Terms</a> <a class="mh2-ns mr1 blue hover-dark-blue link" href="https://beta.observablehq.com/open-source">Open Source</a></div></div></div></div></div></div></div>
<div class="modal"></div>
<div class="overlay"><div><div class="fixed bottom-1 right-1 tc z-2"><div class="fixed right-1 z-2" style="bottom: 1rem;"><div title="Help…" class="inline-flex items-center justify-center bg-white ba b--black-20 pointer hover-b--black-50" style="width: 36px; height: 36px; border-radius: 18px;">?</div></div></div></div></div>


<script src="./Aprovação de emendas constitucionais no Brasil _ Observable_files/bundle.0427fc53b695117c085419d432f5189848c2a14d0d0da01ac950020d126daaa4.js" crossorigin=""></script>
<script async="" src="./Aprovação de emendas constitucionais no Brasil _ Observable_files/analytics.js"></script><script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/beta.observablehq.com\/@lucaslrolim\/brazilian-constitution-changes"},"headline":"Aprovação de emendas constitucionais no Brasil","image":["https:\/\/static.observableusercontent.com\/thumbnail\/1fb16252576846ac150ad2eaadde3c9d7ac12255d9f6b6932a71443c4d38c16d.jpg"],"datePublished":"2018-10-24T01:38:56.024Z","dateModified":"2018-10-24T01:38:56.024Z","author":{"@type":"Person","name":"Lucas Rolim"},"publisher":{"@type":"Organization","name":"Observable","logo":{"@type":"ImageObject","url":"https:\/\/static.observablehq.com\/favicon-512.e994d8ef78e387a9715cc1aab4dfdbc250bf565186e1165a931b055d1e02e84d.png"}}}</script><noscript><p>Aprovação de emendas constitucionais no Brasil</p>
<p>Contextualização do projeto Trabalho desenvolvido pelos alunos Lucas Rolim e Leonardo Freitas para a disciplina Visualização de Dados, ofertada pelo professor Cláudio Esperança (COPPE) e Doris Kosminsky (Escola de Belas Artes) na Universidade Federal do Rio de Janeiro no período de 2018.2. Objetivo O projeto tem como objetivo lançar um recorte sobre a movimentação das votações das PEC no cenário político brasileiro desde a redemocratização até meio do mandato do atual Presidente da República, Michel Temer. Com esse recorte, poderemos observar a oscilação do PIB e a correlação desse fenômeno com o número de PECs votadas e grupos políticos no poder. Outro objetivo, ainda a ser posto em prática, é mostrar qual governo aprovou mais PECs e em qual área foi o principal foco - econômico, social, político, jurídico, etc. Ideia a ser explorada A proposta foi a prática da interdisciplinaridade acadêmica entre os Cursos de Engenharia e Comunicação Visual da UFRJ através da construção de uma visualização de dados seja pela obtenção por dados abertos ou fechados, raspagens entre outras formas de obtermos um recorte ou determinado dado, e além disso, a exploração de ferramentas visuais para dar a melhor leitura do recorte projetado, no uso e na prática do bom design, experiência do usuário, jornada do usuário que sempre serão aplicados com o desenvolvimento da visualização como uma ferramenta completa.</p>
<p>Dados explorados</p>
<p>Os dados explorados são referentes a aprovação de emendas constitucionais no Brasil a partir do ano de 1988, bem como o básico do contexto histórico que circundou esses evenetos. As seguintes informações podem ser encontradas no conjunto de dados: Informações sobre PECs (nome, ano de aprovação, alterações, ementa..) Presidentes em exercício no Brasil em cada um dos anos PIB brasileiro e suas variações Partido no poder (com presidente eleito) A maior parte dos dados foi extraída do Wikipédia por meio da ferramenta Google Planilhas, os demais foram coeltados manualmente. Uma vez coletados os dados foram unificados em uma planilha e pré processados. Por fim, os dados foram exportados, convertidos para o formato JSON e hospedados na plataforma Github Gist.</p>
<pre>data = {
  // carrega os dados em formato de uma lista de objetos JSON
  let data = await d3.json ( &quot;https://gist.githubusercontent.com/lucaslrolim/f0e0c6db98a654896ceae400de9d4732/raw/ad70ba39c18cf89b0ae185e70229889d077447b5/pecs_brasil.json&quot;);
  
  // parseia datas e converte stirng para objetos de data do Javascript
  let dateParse = d3.timeParse(&quot;%Y-%m-%d&quot;)
  let yearParse = d3.timeParse(&quot;%Y&quot;)
  var i;
  for (i = 0; i &lt; data.length; i++) {
    data[i][&quot;data&quot;] = dateParse(data[i][&quot;data&quot;])
    data[i][&quot;publicacao&quot;] = dateParse(data[i][&quot;publicacao&quot;])
    //data[i][&quot;ano_publicacao&quot;] = yearParse(data[i][&quot;ano_publicacao&quot;])
  }
  
  return data;
}</pre>
<p>Exemplo de objeto dos dados</p>
<pre>data[1]</pre>
<p>Definição de atributos de cor para cada partido e/ou presidente</p>
<pre>party_color = function(partido) {
  if (partido === &quot;PT&quot;) {
    return &quot;#b12229&quot;; 
  } 
  else if (partido === &quot;PSDB&quot;){
    return &quot;#1564ac&quot;;
  }
  else if (partido=== &quot;PMDB&quot; || partido === &quot;MDB&quot;){
    return &quot;#ffac27&quot;;
  }
  else {
    return &quot;lightgrey&quot;;
  }
}</pre>
<pre>secondary_party_color = function(partido) {
  if (partido === &quot;PT&quot;) {
    return &quot;#ff6262&quot;; 
  } 
  else if (partido === &quot;PSDB&quot;){
    return &quot;#48ceff&quot;;
  }
  else if (partido=== &quot;PMDB&quot; || partido === &quot;MDB&quot;){
    return &quot;#fffca5&quot;;
  }
  else {
    return &quot;lightgrey&quot;;
  }
}</pre>
<pre>president_color = function(president) {
  if (president === &quot;Itamar Franco&quot;) {
    return &quot;#8145C1-&quot;; 
  } 
  else if (president === &quot;Fernando Collor&quot;){
    return &quot;#38f838&quot;;
  }
  else if (president === &quot;Fernando Henrique Cardoso&quot;){
    return &quot;#56ab7f&quot;;
  }
  else if (president === &quot;Luiz Inácio Lula da Silva&quot;){
    return &quot;#ff6262&quot;;
  }
  else if (president === &quot;Dilma Rousseff&quot;){
    return &quot;#ff2ce7&quot;;
  }
  else if (president === &quot;Michel Temer&quot;){
    return &quot;#b24f11&quot;;
  }
  else {
    return &quot;lightgrey&quot;;
  }
}</pre>
<p>Manipulação do conjunto de dados para o contexto da visualização</p>
<pre>pecs_by_year = {
  let pec_map = {};
  let d = Object.assign({}, data)
  for (var i = 0; i &lt; data.length; i++){
    
    let pec_year = d[i][&#x27;ano_publicacao&#x27;]
    let president = d[i][&#x27;presidente&#x27;]
    let party = d[i][&#x27;partido&#x27;]
    let pib = d[i][&#x27;pib&#x27;]
    
    pib = pib.replace(&quot;,&quot;,&quot;temp&quot;)
    pib = pib.replace(&quot;.&quot;,&quot;,&quot;)
    pib = pib.replace(&quot;temp&quot;,&quot;.&quot;)
    pib = Number(pib.replace(/[^0-9.-]+/g,&quot;&quot;));
    
    let cor_partido = party_color(d[i][&#x27;partido&#x27;])
    let s_cor_partido = secondary_party_color(d[i][&#x27;partido&#x27;])
    let cor_president = president_color(president)
    
    delete d[i].ano_publicacao
    delete d[i].presidente
    delete d[i].partido
    delete d[i].pib
    
    if(pec_year in pec_map){
      pec_map[pec_year][&quot;numero_pecs&quot;] += 1
      pec_map[pec_year][&quot;pecs_info&quot;].push(d[i])
    } else {
      pec_map[pec_year] = {
                           &quot;ano&quot;: pec_year,
                           &quot;numero_pecs&quot;: 1,
                           &quot;presidente&quot;: president,
                           &quot;partido&quot;: party,
                           &quot;pib&quot;: pib,
                           &quot;cor_partido&quot;: cor_partido,
          	               &quot;s_cor_partido&quot;: s_cor_partido,
                           &quot;cor_presidente&quot;: cor_president,
                           &quot;pecs_info&quot;: [d[i]]
                          }
    }
  }
 
  return Object.values(pec_map);
}</pre>
<p>Anos em que o presidente em exercício era diferente do presidente em exercício no ano anterior</p>
<pre>transition_years = {
  let transitions = []
  for (let i = 1; i &lt; pecs_by_year.length; i++) {
    if(pecs_by_year[i][&quot;presidente&quot;] != pecs_by_year[i-1][&quot;presidente&quot;]){  
      transitions.push(pecs_by_year[i][&quot;ano&quot;])
    }
  }
  return transitions;
}</pre>
<p>Atributos de configuração básicos da visualização</p>
<p>Configurações de tamanho do SVG, intervalos de bin do gráfico, espaçamentos e margens</p>
<pre>margin = ({top: 20, right: 0, bottom: 30, left: 40})</pre>
<pre>height = 500</pre>
<pre>width = 1100</pre>
<pre>xRange = [margin.left, width - margin.left * 3]</pre>
<pre>xScale = d3.scaleBand()
           .domain(pecs_by_year.map(d =&gt; d.ano))
           .range(xRange)
           .padding(0.15)</pre>
<pre>pib_range = [0 , d3.max(pecs_by_year.map(d =&gt; d.pib))]</pre>
<pre>yRange = [height - margin.bottom - 30, margin.top]</pre>
<pre>yScale = d3.scaleLinear()
           .domain(pib_range) // tracks max and min automatically
           .range(yRange)
           .nice()</pre>
<pre>xAxis = g =&gt; g 
  .attr(&quot;transform&quot;, &#x60;translate(0,${height - margin.bottom - 30})&#x60;)
  .call(d3.axisBottom(xScale)
       .ticks(width / 80) 
       )
      .call(g =&gt; g.select(&quot;.domain&quot;).remove()) // Tufte style: remove the axis line</pre>
<pre>
yAxis = g =&gt; g // This is a FUNCTION because it&#x27;s something that we need to call.
  .attr(&quot;transform&quot;, &#x60;translate(40, 0)&#x60;)
  .call(d3.axisLeft(yScale)
       .ticks(height / 150) // Magic number
       .tickSizeOuter(10)
       )
      .call(g =&gt; g.select(&quot;.domain&quot;).remove()) // Tufte style: remove the axis line</pre>
<p>Coordenadas no eixo x de transições de ano onde houve mudança de presidente</p>
<pre>transition_coords = {
  let n_pecs = pecs_by_year.length;
  let dist_rects = (xRange[1]-xRange[0])/n_pecs
  let coords = []
  for (let i = 0; i &lt; transition_years.length; i ++){
    let d_position = pecs_by_year[n_pecs - 1][&#x27;ano&#x27;] - transition_years[i]
    coords.push((n_pecs - d_position) * dist_rects)
  }
  return coords
}</pre>
<p>Paletas de estilo CSS para elementos HTML utilizados, principalmente a caixa de informação sobre a PEC selecionada. Existe a opção de exibir a visualização majoritariamente em tons escuros escolhendo a paleta de cores dark ou em tons claros por meio da paleta de cores light</p>
<pre>style = html&#x60;&lt;style&gt;

g.selected circle {
   stroke-width: 2px;
   fill: red;
   r: 30;
}

.tick line{
  visibility:hidden;
}

.explain-box-light {
	width: 100%;
	height: 260px;
	opacity: 0.7;
	border-radius: 8px;
	background-color: #fff;
}

.explain-box-dark {
	width: 100%;
	height: 260px;
	opacity: 0.8;
	background-color: #000;
}

.title-box-light {
	font-size: 24px;
	font-weight: 900;
	font-style: normal;
	font-stretch: normal;
	line-height: 1.25;
	letter-spacing: normal;
	text-align: left;
}

.text-box-light {
	width: 921px;
	font-family: Merriweather;
	font-size: 12px;
	font-weight: 300;
	font-style: normal;
	font-stretch: normal;
	line-height: 1.83;
	letter-spacing: normal;
	text-align: left;
	color: #000;
}

.hash-topic-light {
	font-weight: bold;
	font-style: normal;
	font-stretch: normal;
	line-height: 1.83;
	letter-spacing: normal;
	color: #48ceff;
}

.president_photo{
  height: 140px;
  width: 140px;
  padding-right: 30px;
}

.pec-description{
  width: 600px;
}

.link-box {
  height: 20px;
  width: 20px;
}

.president-name{
  font-size: 12px;
}


&#x60;</pre>
<pre>color_schema_dark = {
  return {
  &quot;background&quot;: &quot;#000000&quot;,
  &quot;text_1&quot;: &quot;#fffca5&quot;,
  &quot;text_2&quot;: &quot;#b5ebff&quot;
  }
} </pre>
<pre>color_schema_light = {
  return {
  &quot;background&quot;: &quot;#fff&quot;,
  &quot;text_1&quot;: &quot;#000&quot;,
  &quot;text_2&quot;: &quot;#58627b&quot;
  }
} </pre>
<pre>function sub_node_color(base_color, c_schema){
  // light schema
  if(c_schema.background == &quot;#fff&quot;){
    return base_color
  } else{
   // dark schema
   return base_color
  }
}</pre>
<pre>president_photo = function(president) {
  if (president === &quot;Itamar Franco&quot;) {
    return &quot;http://i65.tinypic.com/4qjwgw.png&quot;; 
  } 
  else if (president === &quot;Fernando Collor&quot;){
    return &quot;http://i66.tinypic.com/20890lj.png&quot;;
  }
  else if (president === &quot;Fernando Henrique Cardoso&quot;){
    return &quot;http://i64.tinypic.com/2aalvko.png&quot;;
  }
  else if (president === &quot;Luiz Inácio Lula da Silva&quot;){
    return &quot;http://i67.tinypic.com/v4yt78.png&quot;;
  }
  else if (president === &quot;Dilma Rousseff&quot;){
    return &quot;http://i65.tinypic.com/s63yow.png&quot;;
  }
  else if (president === &quot;Michel Temer&quot;){
    return &quot;http://i63.tinypic.com/24vpuro.png&quot;;
  }
}</pre>
<p>A variável pec_info será utilizada para armazenar as informações da PEC selecionada pelo usuário</p>
<pre>mutable pec_info = {
  return {
  &quot;title&quot;: &quot;Estabelece limite máximo,&quot;,
  &quot;description&quot;: &quot;Dispõe sobre a remuneração dos Deputados Estaduais e dos Vereadores.&quot;,
  &quot;link&quot;: &quot;http://www.planalto.gov.br/ccivil_03/constituicao/Emendas/Emc/emc01.htm&quot;,
  &quot;president&quot;: &quot;Fernando Collor&quot;
  }
} </pre>
<p>Altera paleta de cor</p>
<pre>viewof pallete_value = {
  const curves = select({
    options: [
      { label: &quot;Light&quot;, value: &quot;light&quot; },
      { label: &quot;Dark&quot;, value: &quot;dark&quot; },
    ]
  });
  return curves;
}</pre>
<pre>pallete = {
  let schema = null;
  if(pallete_value === &quot;dark&quot;){
   schema = color_schema_dark  
  } else{
   schema = color_schema_light
  }
  return{
  &quot;schema&quot;: schema,
   &quot;name&quot;: &quot;light&quot; // temporário para células fora da visualizacao
  }
}</pre>
<p>Visualização</p>
<pre>data_vis = {
  var pec_title = &quot;teste&quot;;
  const svg = d3.select(DOM.svg(width, height)).style(&quot;background&quot;, pallete.schema.background).style(&quot;opacity&quot;, 0.92);
  
  const groups = svg.append(&quot;g&quot;)
                    .selectAll(&quot;g.year_info&quot;)
                    .data(pecs_by_year).enter()
                    .append(&quot;g&quot;)
                      .attr(&quot;class&quot;, &quot;year_info&quot;)
                      .attr(&#x27;transform&#x27;, &#x60;translate(12.5, 0)&#x60;);
  
  // largura das barras
  let scaleFactor = 17;
  
  // adiciona retângulos para formar a &quot;barra de suporte&quot; de cada círculo
  // cada retângulo possui altura proporcional ao PIB per capta real no ano referido
  groups.append(&quot;rect&quot;)
        .attr(&quot;x&quot;, d =&gt; xScale(d.ano))
        .attr(&quot;y&quot;, d =&gt; yScale(d.pib))
        .attr(&quot;height&quot;, d =&gt; yScale(0) - yScale(d.pib))
        .attr(&quot;width&quot;, xScale.bandwidth() / scaleFactor) // shrink the rectangles to save pixels
        .attr(&quot;fill&quot;, d =&gt; d.cor_partido)
  
  // constantes para definir a escala de tamanho dos círculos no svg
  let circleOffset = xScale.bandwidth() / (2 * scaleFactor); 
  let circleMult = 2.5;
  
  // adiciona círculos principais no sgv, sendo um círculo por ano
  groups.append(&quot;circle&quot;)
        .attr(&quot;cx&quot;, d =&gt; xScale(d.ano) + circleOffset)
        .attr(&quot;cy&quot;, d =&gt; yScale(d.pib))
        .attr(&quot;r&quot;, d =&gt; d.numero_pecs * circleMult)
        .attr(&quot;fill&quot;, d =&gt; d.cor_partido)
        .attr(&quot;class&quot;, &quot;main_node&quot;)
  
  // adiciona pequenos circulos inferiores nos ticks
  groups.append(&quot;circle&quot;)
    .attr(&quot;cx&quot;, d =&gt; xScale(d.ano) + circleOffset)
    .attr(&quot;cy&quot;, height - 60)
    .attr(&quot;r&quot;, 4)
    .attr(&quot;fill&quot;, d =&gt; d.cor_partido)
  
   // Adiciona timeline abaixo da visualização
  groups.append(&quot;rect&quot;)
    .attr(&quot;x&quot;, d =&gt; xScale(d.ano))
    .attr(&quot;y&quot;, d =&gt; height - 25)
    .attr(&quot;height&quot;, 5)
    .attr(&quot;width&quot;, 40) 
    .attr(&quot;fill&quot;, d =&gt; d.cor_partido)
  
  for (let i = 0 ; i &lt; transition_coords.length; i++){
     groups.append(&quot;rect&quot;)
      .attr(&quot;x&quot;, transition_coords[i] + 4)
      .attr(&quot;y&quot;, d =&gt; height - 25)
      .attr(&quot;height&quot;, 5)
      .attr(&quot;width&quot;, 5) 
      .attr(&quot;fill&quot;, pallete.schema.background)
  }
  
  // insere ticks no eixo x da visualização
  svg.append(&quot;g&quot;)
    .call(xAxis)
    .selectAll(&quot;text&quot;) 
    .style(&quot;fill&quot;, pallete.schema.text_2)
    .style(&quot;text-anchor&quot;, &quot;end&quot;)
    .attr(&quot;transform&quot;, &quot;rotate(-45)&quot;);
  
    svg.append(&quot;g&quot;)
    .call(yAxis)
    .selectAll(&quot;text&quot;) 
    .style(&quot;fill&quot;, pallete.schema.text_1)
    .style(&quot;text-anchor&quot;, &quot;end&quot;)
  
  // adiciona efeitos nos grupos principais (círculos + retângulos) quando usuário passa o mouse sobre a região
  groups.on(&quot;mouseenter&quot;, function(d) {
    
    // informações do círculo selecionado
    let main_circle = d3.select(this).selectAll(&#x27;.main_node&#x27;);
    let x_center_coordinate = parseInt(main_circle.attr(&#x27;cx&#x27;));
    let y_center_coordinate = parseInt(main_circle.attr(&#x27;cy&#x27;));
    let main_circle_radius = parseInt(main_circle.attr(&#x27;r&#x27;));
    
    // transforma visualmente o círculo principal (raio e cor)
    main_circle
      .transition()
      .attr(&quot;r&quot;, d.numero_pecs * circleMult * 2 )
      .ease(d3.easeQuadInOut) 
      .duration(750)
      .style(&quot;opacity&quot;, 0.54);
    
    // adiciona sub círculos dentro do círculo principal, sendo um subcírculo por PEC no ano selecionado
    let alpha = 2 * Math.PI / d.pecs_info.length;
    for (var i = 0 ; i &lt; d.pecs_info.length; i ++) {
      
      let ementa = d.pecs_info[i].ementa;
      let numero = d.pecs_info[i].numero;
      let alteracoes = d.pecs_info[i].alteracoes;
      let link = d.pecs_info[i].link;
      let publicacao = d.pecs_info[i].publicacao;
      
      // coordenadas do raio do subcírculo são aleatórias ao redor do centro do círculo principal
      let x_coordenate = x_center_coordinate + ( (1.5 * main_circle_radius) * Math.cos(alpha * i) ); 
      let y_coordenate = y_center_coordinate + ( (1.5 * main_circle_radius) * Math.sin(alpha * i) );
      
      d3.select(this).append(&quot;circle&quot;)
        .attr(&quot;cx&quot;, x_coordenate)
        .attr(&quot;cy&quot;, y_coordenate)
        .attr(&quot;r&quot;, 4.5)
        .attr(&quot;class&quot;, &quot;sub_node&quot;)
        .style(&quot;opacity&quot;, 1)
        .style(&quot;fill&quot;, element_att =&gt;  sub_node_color(element_att.s_cor_partido, pallete.schema))
        .on(&quot;click&quot;, function() {
          // atualiza box de informacoes da PEC
          mutable pec_info.title = alteracoes;
          mutable pec_info.description = ementa;
          mutable pec_info.link = link;
          mutable pec_info.president = d.presidente;
          mutable pec_info = mutable pec_info;
        })
        .append(&quot;title&quot;)
          .text(numero);
    }
    
    // sub circulo que demarca o centro do círculo principal
     d3.select(this).append(&quot;circle&quot;)
        .attr(&quot;cx&quot;, x_center_coordinate)
        .attr(&quot;cy&quot;, y_center_coordinate)
        .attr(&quot;r&quot;, 4)
        .attr(&quot;class&quot;, &quot;sub_node&quot;)
        .style(&quot;opacity&quot;, 1)
        .style(&quot;fill&quot;, element_att =&gt;  element_att.cor_partido)
    
    
   });
   
  // remove efeito dos grupos principais (círculos + retângulos) quando usuário retira o mouse região
  groups.on(&quot;mouseleave&quot;, function(d) {
    let main_circle = d3.select(this).selectAll(&#x27;.main_node&#x27;);
    d3.select(this).selectAll(&quot;.sub_node&quot;).remove()
    main_circle
      .transition()
      .attr(&quot;r&quot;, d.numero_pecs * circleMult)
      .ease(d3.easeQuadInOut) 
      .duration(750)
      .style(&quot;opacity&quot;, 1.0);
  });

  return svg.node();
}</pre>
<pre>viewof info_box = html&#x60;
&lt;br&gt;
&lt;div class=&quot;explain-box-${pallete.name}&quot;&gt;
  &lt;div style=&quot;float:left&quot;&gt;

  &lt;img class = &quot;president_photo&quot; src=&quot;${president_photo(pec_info[&#x27;president&#x27;])}&quot;&gt;
  &lt;p&gt;&lt;h4 class= &quot;president-name&quot;&gt;${pec_info[&#x27;president&#x27;]}&lt;h4&gt;&lt;p&gt;

  &lt;/div&gt;
	&lt;h1 class=&quot;title-box-${pallete.name}&quot;&gt;${pec_info[&#x27;title&#x27;]}&lt;/h1&gt;
  &lt;br&gt;
	&lt;span class = &quot;pec-description&quot;&gt;${pec_info[&#x27;description&#x27;]}&lt;/span&gt;
  &lt;div style=&quot;float:right&quot;&gt;
  &lt;br&gt;
    &lt;span class = &quot;hash-topic-${pallete.name}&quot;&gt; &lt;a href=${pec_info[&#x27;link&#x27;]}&gt;Ir para página de publicação oficial do documento&lt;/a&gt; &lt;/span&gt;
    &lt;img src=&quot;https://image.flaticon.com/icons/svg/25/25284.svg&quot; class=&quot;link-box&quot;&gt;
  &lt;/div&gt;
&lt;/div&gt;
&#x60;</pre>
<p>Neste primeiro protótipo, temos a visualização com o seu objetivo central, lançar um recorte de comparação entre o número do Produto Interno Bruto (PIB - a soma de tudo que é produzido no país) e a quantidade de Propostas de Emenda Constitucional (PEC) aprovadas pelo Governo. Dentro desse foco central, temos ainda a possibilidade de, no futuro, criar uma visualização em outros recortes, como: popularidade, qual o tema mais aprovado dentro do Governo, sempre baseado na comparação de número de PECS pelo PIB nacional. O conceito completo de design da visualização pode ser visualizado no protótipo funcional do projeto.</p>
<p>Imports</p>
<pre>d3_base = require(&quot;https://d3js.org/d3.v4.min.js&quot;)</pre>
<pre>d3_fetch = require(&quot;d3-fetch@1&quot;)</pre>
<pre>d3 = {
  // Add 
  let bundle = Object.assign({}, d3_base, d3_fetch);
  return bundle;
}</pre>
<pre>import {dropdown, select} from &#x27;@jashkenas/inputs&#x27;</pre></noscript></body></html>